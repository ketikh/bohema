<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <meta name="viewport" width=device-width, initial-scale=1>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/select2.min.css">
    <link rel="stylesheet" href="css/perfect-scrollbar.css">
    <link rel="stylesheet" href="css/swiper.css">
    <link rel="stylesheet" href="css/styles.css">
    <script src="js/jquery-3.1.0.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/select2.min.js"></script>
    <script src="js/swiper.js"></script>
    <script src="js/jquery-ui.min.js"></script>
    <script src="js/perfect-scrollbar.js"></script>
    <script src="js/scripts.js"></script>
    <title>Bohema</title>
</head>

<body>
    <div class="modal" id="save-as-draft">
        <div class="modal-dialog modal-dialog-centered lit-w-modal">
            <div class="modal-content">
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <div class="right-popup-close">close <img src="img/close.svg" alt="Close"></div>
                </button>
                <div class="modal-body">
                    <div class="simple-text">
                        Magazine saved as Draft
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal" id="published">
        <div class="modal-dialog modal-dialog-centered lit-w-modal">
            <div class="modal-content">
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <div class="right-popup-close">close <img src="img/close.svg" alt="Close"></div>
                </button>
                <div class="modal-body">
                    <div class="simple-text">
                        Magazine has been published 
                    </div>
                </div>
            </div>
        </div>
    </div>
    <header>
        <h1 class="h1">Bohema</h1>
        <div class="flex flex-a-center flex-j-between">
            <a href="activity.html" class="notification-btn"><img src="img/notification.svg" alt="Bell"></a>
            <div class="user-dp">
                <div class="user-image" style="background-image: url(./img/user.png);"></div>
                <div>
                    <div class="user-name">Salome Vastaveze</div>
                    <div>Admin</div>
                </div>
                <img src="img/arr-d.svg" alt="Arrow Down" class="arrow-d">
            </div>
        </div>
    </header>
    <section>
        <div class="section">
            <div class="right-panel upload-article-panel">
                <div class="panel-h">
                    <h2>Create New Magazine</h2>
                    <div class="flex flex-a-center">
                        <a href="dashboard.html"><img src="img/home.svg" alt="Home"></a>
                        <a href="magazines.html" class="brdcr">Magazines</a>
                    </div>

                </div>
                <div class="upl-article-cont">
                    <div class="permisions-step">
                        <div class="upl-article">
                            <div class="upl-article-steps bl-color">STEP 3 of 5</div>
                            <div class="upl-article-title">Set Permissions</div>
                            <div>Some short description about permisions articles to magazines</div>
                        </div>
                        <div class="perm-section">
                            <div class="perm-title">Set Price for Magazine</div>
                            <div class="perm-price">$10.25</div>
                        </div>
                        <div class="perm-section">
                            <div class="perm-title">Set Release Date</div>
                            <div class="datepicker-div">
                                <input type="text" class="datepicker input" placeholder="Date from">
                                <img src="img/calendar.svg" alt="Calendar">
                            </div>
                        </div>
                        <div class="perm-section">
                            <div class="perm-title">Lock Changes to Magazine</div>
                            <!-- add this class if changes is locked >> locked-btn -->
                            <button class="lock-btn locked-btn">
                                <svg width="16" height="21" viewBox="0 0 16 21" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M14 7H13V5C13 2.24 10.76 0 8 0C5.24 0 3 2.24 3 5V7H2C0.9 7 0 7.9 0 9V19C0 20.1 0.9 21 2 21H14C15.1 21 16 20.1 16 19V9C16 7.9 15.1 7 14 7ZM5 5C5 3.34 6.34 2 8 2C9.66 2 11 3.34 11 5V7H5V5ZM14 19H2V9H14V19ZM8 16C9.1 16 10 15.1 10 14C10 12.9 9.1 12 8 12C6.9 12 6 12.9 6 14C6 15.1 6.9 16 8 16Z"
                                        fill="#992616" />
                                </svg>
                                Lock Changes
                            </button>
                            <!-- show this div if changes is locked -->
                            <div class="lock-error">Click to unlock and enable edits</div>
                            <div class="gray-color">Changes cannot be made once they have been locked by any member
                            </div>
                        </div>
                        <div class="publisher-person">
                            <span>Approved By: </span>
                            <div>Salome Vastaveze</div>
                        </div>
                    </div>
                    <div class="upl-article-buttons">
                        <button class="button bordered-btn">Back</button>
                        <!-- <button class="button fill-btn">Next</button> -->
                        <a href="create-new-magazine2.html" class="button bordered-purp-btn" data-bs-toggle="modal" data-bs-target="#save-as-draft">Save as Draft</a>
                        <a href="create-new-magazine2.html" class="button fill-btn" data-bs-toggle="modal" data-bs-target="#published">Publish Magazine</a>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <script>
        function countChar(val) {
            var maxlength = val.attributes.maxLength.value;
            var len = val.value.length;
            $('#charNum').text(len + ' / 100');
            el.onkeypress = function () {
                if (len >= max) return false;
            };
        };

        var swiper = new Swiper(".mySwiper", {
            slidesPerView: "auto",
            spaceBetween: 12,
        });
        $('.ps').perfectScrollbar();


        function readURL(input) {
            if (input.files && input.files[0]) {

                var reader = new FileReader();

                reader.onload = function (e) {
                    $('.image-upload-wrap').hide();
                    $('.file-upload-image').attr('style', "background-image: url(" + e.target.result) + ")";
                    $('.inp-cont').html(input.files[0].name);
                    $('.file-upload-content').show();
                };

                reader.readAsDataURL(input.files[0]);

            } else {
                removeUpload();
            }
        }

        function removeUpload() {
            $('.file-upload-input').replaceWith($('.file-upload-input').clone());
            $('.file-upload-content').hide();
            $('.image-upload-wrap').show();
        }
        $('.right-popup-close').on('click', function () {
            $('.replace-popup').removeClass('show-popup');
        });

        $.datepicker._updateDatepicker_original = $.datepicker._updateDatepicker;
        $.datepicker._updateDatepicker = function (inst) {
            $.datepicker._updateDatepicker_original(inst);
            var afterShow = this._get(inst, 'afterShow');
            if (afterShow)
                afterShow.apply((inst.input ? inst.input[0] : null));  // trigger custom callback
        }
        $(".datepicker").datepicker({
            changeMonth: true,
            changeYear: true,
            dateFormat: 'M dd,yy',
            firstDay: 1,
            afterShow: function () {
                $('#ui-datepicker-div').addClass('show');
                $('.ui-datepicker select').select2({
                    minimumResultsForSearch: -1,
                    theme: "datepicker"
                });
                $('.ui-datepicker select').on("select2:open", function () {
                    $('.select2-results').perfectScrollbar();
                });
            },
        });
    </script>
</body>

</html>